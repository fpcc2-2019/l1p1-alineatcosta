---
title: "Temperatura JP x CG"
output:
    html_document:
    df_print: paged
theme: sandstone
---

```{r echo=FALSE, message=FALSE, warning=FALSE}
library(tidyverse)
library(here)
library(lubridate)
library(ggbeeswarm)
library(ggplot2)
library(readr)
dataset <- read_csv(NULL)
View(dataset)

install.packages("ggplot2")
theme_set(theme_bw())

install.packages('dplyr')
library(dplyr)
```

```{r read}
# Tem a leitura de outra forma
climas = read_csv("../data/clima_cg_jp-semanal.csv")

glimpse(climas)
```

## colunas cidade,semana,tmedia,tmax,tmin,chuva,mes,ano

## Temperatura

### Onde √© mais quente? O QUE ELE QUER DIZER COM MAIS QUENTE? ONDE CHEGAM AS TEMPERATURAS MAIS ALTAS OU ONDE A TEM M…DIA … MAIOR?

# Esse mostra que em CG a temperatura √© mais variada do que em JP
ggplot(data = climas) + 
  geom_point(mapping = aes(tmax, cidade))
  
# Esse mostra que em CG a temperatura m√°xima varia mais do que em JP
ggplot(data = climas) + 
  geom_jitter(mapping = aes(tmax, cidade))
  
# pega os valores de 'x' e conta quantas vezes apareceu
qplot(x=tmax, y=cidade, data = climas,  color=I('pink'), fill=I('black'))


### As temperaturas m√°ximas semanais (o pico do calor) s√£o t√£o diferentes quanto as m√©dias? Mais? ACHO QUE N√ÉO ENTENDI A PERGUNTA. here!!!

# Quero entender como a m√©dia ou a mediana de uma vari√°vel se comportam em rela√ß√£o a outra vari√°vel
# dlpyR permite dividir uma estrutura de dados e aplicar fun√ß√µes a partes dos dados, ex: filter(), group_by(), mutate() e arrange()

# Agrupando a estrutura de dados por semana. J√Å √â AGRUPADO POR SEMANA!
temp_por_semanas <- group_by(climas, semana)
temp_por_ano <- group_by(climas, ano)
medias <- summarise(temp_por_semanas,
          tmax_mean = mean(tmax),
          tmedia_median = mean(tmedia),
          n = n()) # pega o n√∫mero de pessoas em cada grupo
medias


### Quais os meses mais quentes e mais frios? 


### Qual foi o S√£o Jo√£o mais frio de CG que est√° nos nossos dados?

# FILTRA O M√äS POR 6
clima_mes_6 <- subset(climas, mes == 6)
clima_mes_6_em_cg <- subset(clima_mes_6, cidade == "Campina Grande")
# calculando o total para o ano 2006 em campina grande
clima_mes_6_em_cg %>% 
  filter(ano == "2006") %>% 
  summarise(total_max = sum(tmax), total_media = sum(tmedia), maximo = first(tmax))
  
  
# calculando o total para todos os anos em campina grande. O arrange faz a ordenaÁ„o.
clima_mes_6_em_cg %>% 
  group_by(ano) %>% 
  summarise(total_min = sum(tmin)) %>% 
  arrange(total_min)
  
# Ent„o, considerando a soma das temperaturas mÌnimas por semana, o ano de 2018 teve o SJ mais frio. 


## Chuva

### Quanto chove por semana em JP e CG?

### Como √© a distribui√ß√£o do volume de chuvas por semana em JP e CG? A chuva varia mais ou menos que a temperatura? O formato da distribui√ß√£o √© igual? 

### No geral, onde chove mais?

### A distribui√ß√£o √© diferente em meses espec√≠ficos? 

